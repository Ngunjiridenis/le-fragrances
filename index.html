<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aroma(Zhi) Fragrances - Perfume Store</title>
    <style>
        /* Basic Reset & Body Styling */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
    color: #333;
}

/* Header Styling */
header {
    background-color: #a76a8d; /* A nice perfume-like color */
    color: white;
    padding: 20px 0;
    text-align: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

header h1 {
    margin: 0;
    font-size: 2.5em;
}

header p {
    margin: 5px 0 15px; /* Added margin for nav below */
    font-size: 1.1em;
}

/* Navigation Styling */
nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex; /* Make navigation items horizontal */
    justify-content: center;
    background-color: #8c5a76; /* Slightly darker background for nav */
    padding: 10px 0;
}

nav ul li {
    margin: 0 20px;
}

nav ul li a {
    color: white;
    text-decoration: none;
    font-weight: bold;
    font-size: 1.1em;
    padding: 5px 10px;
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

nav ul li a:hover {
    background-color: #714a60; /* Darker on hover */
}

/* Main Content Area */
main {
    padding: 20px;
    max-width: 1200px;
    margin: 20px auto;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

/* Section Headings */
h2 {
    text-align: center;
    color: #a76a8d;
    margin-bottom: 30px;
}

/* Perfume Grid Styling */
.perfume-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Responsive grid */
    gap: 30px;
    justify-content: center;
    padding: 20px 0;
}

/* Individual Perfume Card Styling */
.perfume-card {
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 15px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease-in-out;
}

.perfume-card:hover {
    transform: translateY(-5px); /* Subtle lift on hover */
}

.perfume-card img {
    max-width: 100%;
    height: 200px; /* Fixed height for consistency */
    object-fit: cover; /* Ensures images fill the space nicely */
    border-radius: 4px;
    margin-bottom: 15px;
}

.perfume-card h3 {
    font-size: 1.4em;
    color: #666;
    margin-bottom: 10px;
}

.perfume-card .price {
    font-size: 1.2em;
    color: #a76a8d;
    font-weight: bold;
    margin-bottom: 15px;
}

/* Button Styling */
button {
    background-color: #a76a8d;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1em;
    transition: background-color 0.3s ease;
}

button:hover {
    background-color: #8c5a76; /* Slightly darker on hover */
}

/* Product Details Section Styling */
#product-details {
    padding: 30px;
    border: 1px solid #ddd;
    border-radius: 8px;
    text-align: center;
    max-width: 600px; /* Constrain width for details */
    margin: 40px auto;
    background-color: #fff;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

#product-details .details-content img {
    max-width: 80%;
    height: auto;
    border-radius: 8px;
    margin-bottom: 20px;
}

#product-details .details-content h3 {
    font-size: 2em;
    color: #a76a8d;
    margin-bottom: 10px;
}

#product-details .details-content p {
    font-size: 1.1em;
    line-height: 1.6;
    margin-bottom: 15px;
}

#product-details .details-content #detail-price {
    font-size: 1.5em;
    color: #a76a8d;
    font-weight: bold;
    margin-bottom: 20px;
}

#product-details .details-content button {
    margin: 10px;
}


/* Styling for hidden sections */
.hidden-section {
    display: none; /* By default, hide sections with this class */
}

.active-section {
    display: block; /* Show sections with this class */
}

/* Our Story Section Styling */
#our-story-section, #contact-us-section, #cart-section { /* Added #cart-section */
    padding: 30px;
    text-align: center;
}

#our-story-section .story-content {
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.8;
    font-size: 1.1em;
    text-align: left; /* Align text left within the content div */
}

#our-story-section .story-image {
    max-width: 100%;
    height: 50%;
    border-radius: 8px;
    margin-top: 30px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* Contact Us Section Styling */
#contact-us-section .contact-content {
    max-width: 600px;
    margin: 0 auto;
    text-align: left; /* Align text left within the content div */
}

#contact-us-section .contact-content p,
#contact-us-section .contact-content a {
    font-size: 1.1em;
    line-height: 1.6;
}

#contact-us-section .contact-content a {
    color: #a76a8d;
    text-decoration: none;
}

#contact-us-section .contact-content a:hover {
    text-decoration: underline;
}

#contact-us-section h3 {
    color: #a76a8d;
    margin-top: 30px;
    margin-bottom: 20px;
    text-align: center; /* Center heading for form */
}

/* Form Styling */
#contact-form {
    display: flex;
    flex-direction: column;
    gap: 15px; /* Space between form groups */
}

.form-group {
    display: flex;
    flex-direction: column;
}

.form-group label {
    margin-bottom: 5px;
    font-weight: bold;
    color: #555;
}

.form-group input[type="text"],
.form-group input[type="email"],
.form-group textarea {
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1em;
    width: 100%; /* Make input fill the space */
    box-sizing: border-box; /* Include padding and border in the element's total width and height */
}

.form-group textarea {
    resize: vertical; /* Allow vertical resizing */
}

#contact-form button[type="submit"] {
    align-self: center; /* Center the submit button */
    margin-top: 20px;
    width: auto; /* Adjust width based on content */
}

/* Form submission message */
.form-submission-message {
    text-align: center;
    font-weight: bold;
}

/* Shopping Cart Section Styling */
#cart-section .cart-content {
    max-width: 700px;
    margin: 0 auto;
    padding: 20px;
    border: 1px solid #eee;
    border-radius: 8px;
    background-color: #f9f9f9;
    text-align: left;
}

#cart-items {
    list-style: none;
    padding: 0;
    margin-bottom: 20px;
}

#cart-items li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid #eee;
}

#cart-items li:last-child {
    border-bottom: none;
}

#cart-items li span {
    flex: 1; /* Allow text to take up space */
}

#cart-items li .item-name {
    font-weight: bold;
    color: #a76a8d;
}

#cart-items li .item-quantity,
#cart-items li .item-price {
    text-align: right;
    margin-left: 15px;
    flex-shrink: 0; /* Don't shrink these items */
}

#cart-items li .remove-item-btn {
    background-color: #dc3545; /* Red for remove button */
    padding: 5px 10px;
    font-size: 0.8em;
    margin-left: 15px;
}

#cart-items li .remove-item-btn:hover {
    background-color: #c82333;
}

.cart-summary {
    text-align: right;
    border-top: 2px solid #a76a8d;
    padding-top: 15px;
    margin-top: 20px;
}

.cart-summary p {
    font-size: 1.4em;
    font-weight: bold;
    color: #a76a8d;
}

.cart-summary #cart-total {
    font-size: 1.5em;
    color: #a76a8d;
}

#checkout-button {
    margin-top: 20px;
    padding: 12px 25px;
    font-size: 1.1em;
    background-color: #28a745; /* Green for checkout */
}

#checkout-button:hover {
    background-color: #218838;
}


/* Footer Styling */
footer {
    text-align: center;
    padding: 20px;
    margin-top: 30px;
    background-color: #333;
    color: white;
    font-size: 0.9em;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    header h1 {
        font-size: 2em;
    }

    nav ul {
        flex-direction: column;
        align-items: center;
    }

    nav ul li {
        margin: 10px 0;
    }

    .perfume-grid {
        grid-template-columns: 1fr; /* Stack cards on smaller screens */
    }

    main {
        margin: 10px;
        padding: 15px;
    }

    #product-details, #our-story-section .story-content, #contact-us-section .contact-content, #cart-section .cart-content {
        padding: 20px;
    }
}
    </style>
</head>
<body>
    <header>
        <h1>Aroma(Zhi) Fragrances</h1>
        <p>Your destination for exquisite fragrances</p>
        <nav>
            <ul>
                <li><a href="#" id="nav-home">Home</a></li>
                <li><a href="#" id="nav-our-story">Our Story</a></li>
                <li><a href="#" id="nav-contact-us">Contact Us</a></li>
                <li><a href="#" id="nav-cart">Cart (<span id="cart-count">0</span>)</a></li> </ul>
        </nav>
    </header>

    <main>
        <section id="home-section" class="active-section">
            <h2>Our Perfume Collection</h2>
            <div class="perfume-grid">
                <div class="perfume-card">
                    <img src="" alt="One Million Perfume">
                    <h3>One Million</h3>
                    <p class="price">ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="one-million">View Details</button>
                </div>

                <div class="perfume-card">
                    <img src="" alt="212 VIP Perfume">
                    <h3>212 VIP</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="212-vip">View Details</button>
                </div>

                <div class="perfume-card">
                    <img src="" alt="Golden Dust Perfume">
                    <h3>Golden Dust</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="golden-dust">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="Sugar Baby Perfume">
                    <h3>Sugar Baby</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="sugar-baby">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="Sweet Passion Perfume">
                    <h3>Sweet Passion</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="sweet-passion">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="Sweet Camilla Perfume">
                    <h3>Sweet Camilla</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="sweet-camilla">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="Pearl Perfume">
                    <h3>Pearl</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="pearl">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="Polo Sport Perfume">
                    <h3>Polo Sport</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="polo-sport">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="Polo Blue Perfume">
                    <h3>Polo Blue</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="polo-blue">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="Pink Chiffon Perfume">
                    <h3>Pink Chiffon</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="pink-chiffon">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="Baccarat Rouge 540 Perfume">
                    <h3>Baccarat Rouge 540</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="baccarat-rouge">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="Pure Seduction Perfume">
                    <h3>Pure Seduction</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="pure-seduction">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="1 Man Show Perfume">
                    <h3>1 Man Show</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="1man-show">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="Versace Eros Perfume">
                    <h3>Versace Eros</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="versace-eros">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="Pineapple Perfume">
                    <h3>Pineapple</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="pine-apple">View Details</button>
                </div>
                <div class="perfume-card">
                    <img src="" alt="Mango Perfume">
                    <h3>Mango</h3>
                    <p class="price">Ksh 25.00 per ml</p>
                    <button class="view-details" data-perfume-id="mango">View Details</button>
                </div>

                </div>
        </section>

        <section id="product-details" class="hidden-section">
            <h2>Product Details</h2>
            <div class="details-content">
                <img id="detail-image" src="" alt="Selected Perfume">
                <h3 id="detail-name"></h3>
                <p id="detail-price"></p>
                <p id="detail-description"></p>
                <button id="add-to-cart-btn" data-perfume-id="">Add to Cart</button>
                <button id="back-to-listings">Back to Collection</button>
            </div>
        </section>

        <section id="our-story-section" class="hidden-section">
            <h2>Our Story</h2>
            <div class="story-content">
                <p>Welcome to Aroma(Zhi) Fragrances, where passion meets fragrance. Our journey began with a simple belief: that a beautiful scent can transcend moments and evoke memories. We meticulously source the finest ingredients from around the world to craft unique and captivating perfumes that tell a story.</p>
                <p>Founded in 2025 by Denis Ngunjiri, Aroma(Zhi) Fragrances was born out of a love for the art of perfumery. We believe in quality, sustainability, and creating fragrances that resonate with your individual spirit.</p>
                <p>Every bottle from Aroma(Zhi) Fragrances is more than just a perfume; it's an experience, a whisper of luxury, and a testament to our dedication to olfactory excellence.</p>
                <img src="my image.jpg" alt="Our Story Image" class="story-image">
            </div>
        </section>

        <section id="contact-us-section" class="hidden-section">
            <h2>Contact Us</h2>
            <div class="contact-content">
                <p>We'd love to hear from you! Whether you have a question about our perfumes, an inquiry about an order, or just want to share your fragrance journey, feel free to reach out.</p>
                <p><strong>Email:</strong> <a href="mailto:dng06.ng@gmail.com">dng06.ng@gmail.com</a></p>
                <p><strong>Phone:</strong> <a href="tel:+254 715291248">+254 715291248</a></p>
                <p><strong>Address:</strong>Kitale, Trans-Nzoia & Lodwar, Turkana: Kenya</p>

                <h3>Send us a message:</h3>
                <form id="contact-form">
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Message:</label>
                        <textarea id="message" name="message" rows="5" required></textarea>
                    </div>
                    <button type="submit">Send Message</button>
                </form>
                <p class="form-submission-message" style="display: none; color: green; margin-top: 15px;">Thank you for your message! We will get back to you shortly.</p>
            </div>
        </section>

        <section id="cart-section" class="hidden-section">
            <h2>Your Shopping Cart</h2>
            <div class="cart-content">
                <p id="cart-empty-message" style="display: block; text-align: center;">Your cart is empty.</p>
                <ul id="cart-items">
                    </ul>
                <div class="cart-summary">
                    <p>Total: <span id="cart-total">ksh0.00</span></p>
                    <button id="checkout-button">Proceed to Order</button>
                    <p style="margin-top: 10px; font-size: 0.9em; color: #888;">
                        *Clicking "Proceed to Order" will open your email client to send the order to us.
                        Or you can just select the perfumes you are interested in and send manually to the
                        contacts provided both email and whatsapp or text message. 
                    </p>
                </div>
            </div>
        </section>

    </main>

    <footer>
        <p>&copy; 2025 Aroma(Zhi) Fragrances. All rights reserved.</p>
    </footer>

    <script>
        // Data for your perfumes (price is now a number for calculations)
const perfumes = [
    {
        id: 'one-million',
        name: 'One Million',
        price: 25.00, // Price as a number
        description: 'A bold, spicy fragrance with notes of leather, amber, and citrus, known for its luxurious and seductive appeal.',
        image: 'https://via.placeholder.com/400x300/F08080/FFFFFF?text=One+Million'
    },
    {
        id: '212-vip',
        name: '212 VIP',
        price: 25.00,
        description: 'A sweet and tropical scent featuring rum, vanilla, and passion fruit, designed to evoke exclusivity and nightlife glamour.',
        image: 'https://via.placeholder.com/400x300/8B4513/FFFFFF?text=212+VIP'
    },
        {
        id: 'golden-dust',
        name: 'Golden Dust',
        price: 25.00,
        description: 'A warm, floral fragrance with Damascena rose, honeysuckle, vanilla, and amber offering a rich and luxurious scent.',
        image: 'https://via.placeholder.com/400x300/8B4513/FFFFFF?text=Golden+Dust'
    },
        {
        id: 'sugar-baby',
        name: 'Sugar Baby',
        price: 25.00,
        description: 'A sweet floral perfume with honeysuckle, grapefruit, and musk, designed to blend with your skins natural scent.',
        image: 'https://via.placeholder.com/400x300/8B4513/FFFFFF?text=Sugar+Baby'
    },
        {
        id: 'sweet-passion',
        name: 'Sweet Passion',
        price: 25.00,
        description: 'A romantic and charming fragrance with orange blossom, gardenia, vetiver, rose, and honey, offering a long-lasting, feminine scent.',
        image: 'https://via.placeholder.com/400x300/8B4513/FFFFFF?text=Sweet+Passion'
    },
    {
        id: 'sweet-camilla',
        name: 'Sweet Camilla',
        price: 25.00,
        description: 'This is a softer, floral perfume often associated with feminine elegance. While there are a few variations depending on the brand, it generally offers notes of camellia flower, light citrus, and powdery musks. It is sweet, romantic, and suitable for daily wear or casual outings.',
        image: 'https://via.placeholder.com/400x300/ADD8E6/000000?text=Sweet+Camilla'
    },
    {
        id: 'pearl',
        name: 'Pearl',
        price: 25.00,
        description: 'A name used by multiple fragrance houses, but typically denotes a luxurious, soft, and elegant scent. Common notes include white florals (like lily or jasmine), creamy sandalwood, and sometimes vanilla or musk. It is usually marketed as a graceful and refined perfume.',
        image: 'https://via.placeholder.com/400x300/ADD8E6/000000?text=Pearl'
    },
    {
        id: 'polo-sport',
        name: 'Polo Sport',
        price: 25.00,
        description: 'A fresh, clean, and energetic fragrance designed for active men. It features a mix of citrus, mint, and aldehydes at the top, with heart notes of ginger, seagrass, and jasmine, and a base of musk, sandalwood, and cedar. Ideal for daytime and sporty occasions.',
        image: 'https://via.placeholder.com/400x300/ADD8E6/000000?text=Polo+Sport'
    },
    {
        id: 'polo-blue',
        name: 'Polo Blue',
        price: 25.00,
        description: 'A crisp and invigorating scent with melon, cucumber, basil, and suede evoking the freshness of open waters',
        image: 'https://via.placeholder.com/400x300/ADD8E6/000000?text=Polo+Blue'
    },
    {
        id: 'pink-chiffon',
        name: 'Pink Chiffon',
        price: 25.00,
        description: 'A sweet and floral fragrance with red pear, jasmine petals, vanilla orchid, and chiffon musk, offering a soft, feminine scent',
        image: 'https://via.placeholder.com/400x300/ADD8E6/000000?text=Pink+Chiffon'
    },
    {
        id: 'baccarat-rouge',
        name: 'Baccarat Rouge 540',
        price: 25.00,
        description: 'A luxurious and complex fragrance with saffron, amberwood, and cedar, known for its warm, radiant, and long-lasting appeal.',
        image: 'https://via.placeholder.com/400x300/ADD8E6/000000?text=Baccarat+Rouge+540'
    },
    {
        id: 'pure-seduction',
        name: 'Pure Seduction',
        price: 25.00,
        description: 'A fruity and floral fragrance with red plum, freesia, and aloe vera, designed to be playful and seductive',
        image: 'https://via.placeholder.com/400x300/ADD8E6/000000?text=Pure+Seduction'
    },
    {
        id: '1man-show',
        name: '1 Man Show',
        price: 25.00,
        description: 'A bold Masculine fragrance with basil, bergamot, frankincense, and cedarwood, offering a strong and confident scent.',
        image: 'https://via.placeholder.com/400x300/ADD8E6/000000?text=1+Man+Show'
    },
    {
        id: 'versace-eros',
        name: 'Versace Eros',
        price: 25.00,
        description: 'A fresh sensual fragrance with mint, green apple, vanilla, and cedarwood designed embody masculine seduction',
        image: 'https://via.placeholder.com/400x300/ADD8E6/000000?text=Versace+Eros'
    },
    {
        id: 'pine-apple',
        name: 'Pineapple',
        price: 25.00,
        description: 'Tropical, juicy note, often blended with citrus, vanilla, or floral elements',
        image: 'https://via.placeholder.com/400x300/ADD8E6/000000?text=Pineapple'
    },
    {
        id: 'mango',
        name: 'Mango',
        price: 25.00,
        description: 'floral, citrus, or gourmand elements for a fresh and exotic scent',
        image: 'https://via.placeholder.com/400x300/ADD8E6/000000?text=Mango'
    }
    // Add more perfume objects here
];

// YOUR BUSINESS EMAIL FOR ORDERS (IMPORTANT: Replace this with your actual email)
const BUSINESS_EMAIL = 'dng06.ng@gmail.com'; // 

// Shopping Cart Array (stores items added to cart)
let cart = []; // Each item in cart will be { id: 'perfume-id', quantity: X }

// Get references to all main sections
const homeSection = document.getElementById('home-section');
const productDetailsSection = document.getElementById('product-details');
const ourStorySection = document.getElementById('our-story-section');
const contactUsSection = document.getElementById('contact-us-section');
const cartSection = document.getElementById('cart-section'); // New cart section

// Get references for product details elements
const detailImage = document.getElementById('detail-image');
const detailName = document.getElementById('detail-name');
const detailPrice = document.getElementById('detail-price');
const detailDescription = document.getElementById('detail-description');
const addToCartBtn = document.getElementById('add-to-cart-btn'); // Renamed for clarity
const backToListingsBtn = document.getElementById('back-to-listings');

// Get references for navigation links
const navHome = document.getElementById('nav-home');
const navOurStory = document.getElementById('nav-our-story');
const navContactUs = document.getElementById('nav-contact-us');
const navCart = document.getElementById('nav-cart'); // New cart nav link
const cartCountSpan = document.getElementById('cart-count'); // Span for cart count

// Get references for cart elements
const cartItemsList = document.getElementById('cart-items');
const cartTotalSpan = document.getElementById('cart-total');
const cartEmptyMessage = document.getElementById('cart-empty-message');
const checkoutButton = document.getElementById('checkout-button');

// Get reference for the contact form and its message
const contactForm = document.getElementById('contact-form');
const formSubmissionMessage = document.querySelector('.form-submission-message');

// --- Helper Functions ---

// Function to hide all main sections
function hideAllSections() {
    homeSection.classList.add('hidden-section');
    homeSection.classList.remove('active-section');

    productDetailsSection.classList.add('hidden-section');
    productDetailsSection.classList.remove('active-section');

    ourStorySection.classList.add('hidden-section');
    ourStorySection.classList.remove('active-section');

    contactUsSection.classList.add('hidden-section');
    contactUsSection.classList.remove('active-section');

    cartSection.classList.add('hidden-section'); // Hide cart section
    cartSection.classList.remove('active-section');
}

// Function to show a specific section
function showSection(sectionElement) {
    hideAllSections(); // Hide everything first
    sectionElement.classList.remove('hidden-section');
    sectionElement.classList.add('active-section');
}

// --- Product and Cart Functions ---

// Function to display product details
function showProductDetails(perfumeId) {
    const selectedPerfume = perfumes.find(perfume => perfume.id === perfumeId);

    if (selectedPerfume) {
        detailImage.src = selectedPerfume.image;
        detailImage.alt = selectedPerfume.name;
        detailName.textContent = selectedPerfume.name;
        detailPrice.textContent = `Ksh. ${selectedPerfume.price.toFixed(2)} per ml`; // Format price for display
        detailDescription.textContent = selectedPerfume.description;
        addToCartBtn.dataset.perfumeId = selectedPerfume.id; // Set data-perfume-id for the add to cart button

        showSection(productDetailsSection); // Show only product details
    }
}

// Function to add item to cart
function addItemToCart(perfumeId) {
    const existingItemIndex = cart.findIndex(item => item.id === perfumeId);

    if (existingItemIndex > -1) {
        // Item already in cart, increase quantity
        cart[existingItemIndex].quantity++;
    } else {
        // Item not in cart, add new
        cart.push({ id: perfumeId, quantity: 1 });
    }
    updateCartDisplay();
    alert(`${perfumes.find(p => p.id === perfumeId).name} added to cart!`);
}

// Function to remove item from cart
function removeItemFromCart(perfumeId) {
    cart = cart.filter(item => item.id !== perfumeId);
    updateCartDisplay();
}

// Function to update the cart display and total
function updateCartDisplay() {
    cartItemsList.innerHTML = ''; // Clear current cart items
    let total = 0;

    if (cart.length === 0) {
        cartEmptyMessage.style.display = 'block';
        checkoutButton.disabled = true; // Disable checkout if cart is empty
    } else {
        cartEmptyMessage.style.display = 'none';
        checkoutButton.disabled = false; // Enable checkout if cart has items
        cart.forEach(cartItem => {
            const perfume = perfumes.find(p => p.id === cartItem.id);
            if (perfume) {
                const itemTotal = perfume.price * cartItem.quantity;
                total += itemTotal;

                const listItem = document.createElement('li');
                listItem.innerHTML = `
                    <span class="item-name">${perfume.name}</span>
                    <span class="item-quantity">Qty: ${cartItem.quantity}</span>
                    <span class="item-price">Ksh${itemTotal.toFixed(2)}</span>
                    <button class="remove-item-btn" data-perfume-id="${perfume.id}">Remove</button>
                `;
                cartItemsList.appendChild(listItem);
            }
        });
    }

    cartTotalSpan.textContent = `Ksh${total.toFixed(2)}`;
    cartCountSpan.textContent = cart.length; // Update the count in the header
}

// Function to handle "Proceed to Order" (mailto link)
function proceedToOrder() {
    if (cart.length === 0) {
        alert('Your cart is empty. Please add some items first.');
        return;
    }

    let emailSubject = encodeURIComponent('New Perfume Order from Aroma(Zhi) Fragrances');
    let emailBody = 'Hello Aroma(Zhi) Fragrances,\n\nI would like to place an order for the following perfumes:\n\n';

    let orderDetails = [];
    let grandTotal = 0;

    cart.forEach(cartItem => {
        const perfume = perfumes.find(p => p.id === cartItem.id);
        if (perfume) {
            const itemPrice = perfume.price;
            const itemTotal = itemPrice * cartItem.quantity;
            orderDetails.push(`${perfume.name} (Qty: ${cartItem.quantity}) - Ksh${itemTotal.toFixed(2)}`);
            grandTotal += itemTotal;
        }
    });

    emailBody += orderDetails.join('\n');
    emailBody += `\n\nEstimated Total: Ksh${grandTotal.toFixed(2)}`;
    emailBody += '\n\nPlease contact me to confirm the order and arrange payment/delivery details.';
    emailBody += '\n\nMy details: (Please fill in your name and contact number here)';
    emailBody += '\nName: ';
    emailBody += '\nPhone: ';
    emailBody += '\n\nThank you!';

    const mailtoLink = `mailto:${BUSINESS_EMAIL}?subject=${emailSubject}&body=${encodeURIComponent(emailBody)}`;

    // Open the user's default email client
    window.location.href = mailtoLink;

    // Optional: Clear the cart after sending the order (assumes success)
    // In a real app, you'd only clear after server confirmation.
    cart = [];
    updateCartDisplay();
    alert('Your order request has been sent! Please check your email client to complete sending the message.');
}

// --- Event Listeners ---
document.addEventListener('DOMContentLoaded', () => {
    // Add event listeners for navigation links
    navHome.addEventListener('click', (e) => {
        e.preventDefault();
        showSection(homeSection);
    });

    navOurStory.addEventListener('click', (e) => {
        e.preventDefault();
        showSection(ourStorySection);
    });

    navContactUs.addEventListener('click', (e) => {
        e.preventDefault();
        showSection(contactUsSection);
    });

    navCart.addEventListener('click', (e) => { // New cart nav listener
        e.preventDefault();
        showSection(cartSection);
        updateCartDisplay(); // Make sure cart is updated when opened
    });

    // Add event listeners for "View Details" buttons
    const viewDetailsButtons = document.querySelectorAll('.view-details');
    viewDetailsButtons.forEach(button => {
        button.addEventListener('click', (event) => {
            const perfumeId = event.target.dataset.perfumeId;
            showProductDetails(perfumeId);
        });
    });

    // Add event listener to "Add to Cart" button
    addToCartBtn.addEventListener('click', (e) => {
        const perfumeId = e.target.dataset.perfumeId;
        if (perfumeId) {
            addItemToCart(perfumeId);
        } else {
            console.error('No perfume ID found for Add to Cart button.');
        }
    });

    // Event delegation for remove buttons in the cart list
    cartItemsList.addEventListener('click', (e) => {
        if (e.target.classList.contains('remove-item-btn')) {
            const perfumeId = e.target.dataset.perfumeId;
            removeItemFromCart(perfumeId);
        }
    });


    // Add event listener to "Back to Collection" button
    backToListingsBtn.addEventListener('click', (e) => {
        e.preventDefault();
        showSection(homeSection);
    });

    // Handle contact form submission
    contactForm.addEventListener('submit', (e) => {
        e.preventDefault();

        console.log('Contact Form Submitted!');
        console.log('Name:', document.getElementById('name').value);
        console.log('Email:', document.getElementById('email').value);
        console.log('Message:', document.getElementById('message').value);

        formSubmissionMessage.style.display = 'block';
        contactForm.reset();
        setTimeout(() => {
            formSubmissionMessage.style.display = 'none';
        }, 5000);
    });

    // Add event listener for the "Proceed to Order" button
    checkoutButton.addEventListener('click', proceedToOrder);

    // Initial load: ensure home section is visible and cart display is updated
    showSection(homeSection);
    updateCartDisplay(); // Initialize cart display
});
    </script>
</body>
</html>
